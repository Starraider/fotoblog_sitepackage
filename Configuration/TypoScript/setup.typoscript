######################
#### DEPENDENCIES ####
######################
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:bootstrap_package/Configuration/TypoScript/setup.typoscript">
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:fotoblog_sitepackage/Configuration/TypoScript/ContentElement/setup.typoscript">

#############################################################
#### EXTENSIONS                                          ####
#### Manual inclusion to keep control over loading order ####
#############################################################
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:fotoblog_sitepackage/Configuration/TypoScript/Extension/Cookieman/setup.typoscript" condition="userFunc = TYPO3\\CMS\\Core\\Utility\\ExtensionManagementUtility::isLoaded('cookieman')">
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:fotoblog_sitepackage/Configuration/TypoScript/Extension/RxShariff/setup.typoscript" condition="userFunc = TYPO3\\CMS\\Core\\Utility\\ExtensionManagementUtility::isLoaded('rx_shariff')">
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:fotoblog_sitepackage/Configuration/TypoScript/Extension/Blog/setup.typoscript" condition="userFunc = TYPO3\\CMS\\Core\\Utility\\ExtensionManagementUtility::isLoaded('blog')">

#############
### Debug ###
#############
#plugin.tx_min.tinysource.enable = 1
config {
    debug = 0
    no_cache = 0
    admPanel = 0
    contentObjectExceptionHandler = 1
    compressCss = 1
    concatenateCss = 1
    compressJs = 1
    concatenateJs = 1
    sendCacheHeaders = 1
    cache_period = 7776000
}
[applicationContext = Development]
    #plugin.tx_min.tinysource.enable = 0
    config {
        debug = 1
        no_cache = 1
        admPanel = 0
        contentObjectExceptionHandler = 0
        compressCss = 0
        concatenateCss = 0
        compressJs = 0
        concatenateJs = 0
        sendCacheHeaders = 0
        cache_period = 0
    }
[global]

##############
#### PAGE ####
##############
page {
    includeCSS {
        theme = EXT:fotoblog_sitepackage/Resources/Public/Scss/Theme/theme.scss
    }

    includeJSLibs {

    }

    includeJS {

    }

    includeJSFooterlibs {

    }

    includeJSFooter {
        fotoblog_sitepackage_scripts = EXT:fotoblog_sitepackage/Resources/Public/JavaScript/Dist/scripts.js
    }
}

lib.contentElement {
    dataProcessing {
        999 = TYPO3\CMS\Frontend\DataProcessing\DatabaseQueryProcessor
        999 {
            if.isTrue.field = categories
            table = sys_category
            selectFields = sys_category.*
            pidInList = this
            recursive = 999
            join = sys_category_record_mm ON sys_category.uid = sys_category_record_mm.uid_local
            where.data = field:pid
            where.wrap = sys_category_record_mm.tablenames = 'pages' and sys_category_record_mm.uid_foreign='|'
            orderBy = sys_category.sorting
            as = pagecategories
        }
    }
}
