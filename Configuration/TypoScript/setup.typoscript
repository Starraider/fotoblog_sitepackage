######################
#### DEPENDENCIES ####
######################
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:bootstrap_package/Configuration/TypoScript/setup.typoscript">
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:skom_sitepackage/Configuration/TypoScript/setup.typoscript">
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:fotoblog_sitepackage/Configuration/TypoScript/ContentElement/setup.typoscript">

#############################################################
#### EXTENSIONS                                          ####
#### Manual inclusion to keep control over loading order ####
#############################################################
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:fotoblog_sitepackage/Configuration/TypoScript/Extension/Cookieman/setup.typoscript" condition="userFunc = TYPO3\\CMS\\Core\\Utility\\ExtensionManagementUtility::isLoaded('cookieman')">
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:fotoblog_sitepackage/Configuration/TypoScript/Extension/RxShariff/setup.typoscript" condition="userFunc = TYPO3\\CMS\\Core\\Utility\\ExtensionManagementUtility::isLoaded('rx_shariff')">
<INCLUDE_TYPOSCRIPT: source="FILE:EXT:fotoblog_sitepackage/Configuration/TypoScript/Extension/Blog/setup.typoscript" condition="userFunc = TYPO3\\CMS\\Core\\Utility\\ExtensionManagementUtility::isLoaded('blog')">


##############
#### PAGE ####
##############
page {
    10 = FLUIDTEMPLATE
    10 {
        templateRootPaths {
            0 = EXT:bootstrap_package/Resources/Private/Templates/Page/
            10 = EXT:skom_sitepackage/Resources/Private/Templates/Page/
            15 = EXT:fotoblog_sitepackage/Resources/Private/Templates/Page/
            20 = EXT:customer_sitepackage/Resources/Private/Templates/Page/
            30 = {$page.fluidtemplate.templateRootPath}
        }
        partialRootPaths {
            0 = EXT:bootstrap_package/Resources/Private/Partials/Page/
            10 = EXT:skom_sitepackage/Resources/Private/Partials/Page/
            15 = EXT:fotoblog_sitepackage/Resources/Private/Partials/Page/
            20 = EXT:customer_sitepackage/Resources/Private/Partials/Page/
            30 = {$page.fluidtemplate.partialRootPath}
        }
        layoutRootPaths {
            0 = EXT:bootstrap_package/Resources/Private/Layouts/Page/
            10 = EXT:skom_sitepackage/Resources/Private/Layouts/Page/
            15 = EXT:fotoblog_sitepackage/Resources/Private/Layouts/Page/
            20 = EXT:customer_sitepackage/Resources/Private/Layouts/Page/
            30 = {$page.fluidtemplate.layoutRootPath}
        }
    }
    includeCSS {
        theme = EXT:fotoblog_sitepackage/Resources/Public/Scss/Theme/theme.scss
    }

    includeJSLibs {
        tx_rxshariff_shariff >
        tx_rxshariff_shariff = EXT:rx_shariff/Resources/Public/JavaScript/shariff.min.js
        tx_rxshariff_shariff.defer = 1
        fotoblog_sitepackage_scripts >
        fotoblog_sitepackage_scripts = EXT:fotoblog_sitepackage/Resources/Public/JavaScript/Dist/scripts.js
        fotoblog_sitepackage_scripts.defer = 1
    }

    includeJS {

    }

    includeJSFooterlibs {

    }

    includeJSFooter {
        tx_rxshariff_shariff >
    }
}

lib.contentElement {
    dataProcessing {
        999 = TYPO3\CMS\Frontend\DataProcessing\DatabaseQueryProcessor
        999 {
            if.isTrue.field = categories
            table = sys_category
            selectFields = sys_category.*
            pidInList = this
            recursive = 999
            join = sys_category_record_mm ON sys_category.uid = sys_category_record_mm.uid_local
            where.data = field:pid
            where.wrap = sys_category_record_mm.tablenames = 'pages' and sys_category_record_mm.uid_foreign='|'
            orderBy = sys_category.sorting
            as = pagecategories
        }
    }
}
